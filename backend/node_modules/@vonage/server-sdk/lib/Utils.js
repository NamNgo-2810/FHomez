"use strict";

var querystring = require("querystring");

exports.createPathWithQuery = function (path, query) {
  if (!query) {
    throw new Error('"query" is a required parameter');
  }

  var pathExt = "";

  if (typeof query === "string") {
    // single call Id
    pathExt = "/".concat(query);
  } else if (typeof query === "object" && Object.keys(query).length > 0) {
    // filter
    pathExt = "?".concat(querystring.stringify(query));
  }

  return "".concat(path).concat(pathExt);
};

exports.getQuery = function (path) {
  return querystring.parse(path.split("?")[1]);
};

exports.sendError = function (callback, err, returnData) {
  // Throw the error in case if there is no callback passed
  if (callback) {
    callback(err, returnData);
  } else {
    throw err;
  }
};

exports.clone = function (a) {
  return JSON.parse(JSON.stringify(a));
};
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uL3NyYy9VdGlscy5qcyJdLCJuYW1lcyI6WyJxdWVyeXN0cmluZyIsInJlcXVpcmUiLCJleHBvcnRzIiwiY3JlYXRlUGF0aFdpdGhRdWVyeSIsInBhdGgiLCJxdWVyeSIsIkVycm9yIiwicGF0aEV4dCIsIk9iamVjdCIsImtleXMiLCJsZW5ndGgiLCJzdHJpbmdpZnkiLCJnZXRRdWVyeSIsInBhcnNlIiwic3BsaXQiLCJzZW5kRXJyb3IiLCJjYWxsYmFjayIsImVyciIsInJldHVybkRhdGEiLCJjbG9uZSIsImEiLCJKU09OIl0sIm1hcHBpbmdzIjoiOztBQUFBLElBQUlBLFdBQVcsR0FBR0MsT0FBTyxDQUFDLGFBQUQsQ0FBekI7O0FBRUFDLE9BQU8sQ0FBQ0MsbUJBQVIsR0FBOEIsVUFBVUMsSUFBVixFQUFnQkMsS0FBaEIsRUFBdUI7QUFDbkQsTUFBSSxDQUFDQSxLQUFMLEVBQVk7QUFDVixVQUFNLElBQUlDLEtBQUosQ0FBVSxpQ0FBVixDQUFOO0FBQ0Q7O0FBRUQsTUFBSUMsT0FBTyxHQUFHLEVBQWQ7O0FBQ0EsTUFBSSxPQUFPRixLQUFQLEtBQWlCLFFBQXJCLEVBQStCO0FBQzdCO0FBQ0FFLElBQUFBLE9BQU8sY0FBT0YsS0FBUCxDQUFQO0FBQ0QsR0FIRCxNQUdPLElBQUksT0FBT0EsS0FBUCxLQUFpQixRQUFqQixJQUE2QkcsTUFBTSxDQUFDQyxJQUFQLENBQVlKLEtBQVosRUFBbUJLLE1BQW5CLEdBQTRCLENBQTdELEVBQWdFO0FBQ3JFO0FBQ0FILElBQUFBLE9BQU8sY0FBT1AsV0FBVyxDQUFDVyxTQUFaLENBQXNCTixLQUF0QixDQUFQLENBQVA7QUFDRDs7QUFFRCxtQkFBVUQsSUFBVixTQUFpQkcsT0FBakI7QUFDRCxDQWZEOztBQWlCQUwsT0FBTyxDQUFDVSxRQUFSLEdBQW1CLFVBQVVSLElBQVYsRUFBZ0I7QUFDakMsU0FBT0osV0FBVyxDQUFDYSxLQUFaLENBQWtCVCxJQUFJLENBQUNVLEtBQUwsQ0FBVyxHQUFYLEVBQWdCLENBQWhCLENBQWxCLENBQVA7QUFDRCxDQUZEOztBQUlBWixPQUFPLENBQUNhLFNBQVIsR0FBb0IsVUFBVUMsUUFBVixFQUFvQkMsR0FBcEIsRUFBeUJDLFVBQXpCLEVBQXFDO0FBQ3ZEO0FBQ0EsTUFBSUYsUUFBSixFQUFjO0FBQ1pBLElBQUFBLFFBQVEsQ0FBQ0MsR0FBRCxFQUFNQyxVQUFOLENBQVI7QUFDRCxHQUZELE1BRU87QUFDTCxVQUFNRCxHQUFOO0FBQ0Q7QUFDRixDQVBEOztBQVNBZixPQUFPLENBQUNpQixLQUFSLEdBQWdCLFVBQVVDLENBQVYsRUFBYTtBQUMzQixTQUFPQyxJQUFJLENBQUNSLEtBQUwsQ0FBV1EsSUFBSSxDQUFDVixTQUFMLENBQWVTLENBQWYsQ0FBWCxDQUFQO0FBQ0QsQ0FGRCIsInNvdXJjZXNDb250ZW50IjpbInZhciBxdWVyeXN0cmluZyA9IHJlcXVpcmUoXCJxdWVyeXN0cmluZ1wiKTtcblxuZXhwb3J0cy5jcmVhdGVQYXRoV2l0aFF1ZXJ5ID0gZnVuY3Rpb24gKHBhdGgsIHF1ZXJ5KSB7XG4gIGlmICghcXVlcnkpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ1wicXVlcnlcIiBpcyBhIHJlcXVpcmVkIHBhcmFtZXRlcicpO1xuICB9XG5cbiAgdmFyIHBhdGhFeHQgPSBcIlwiO1xuICBpZiAodHlwZW9mIHF1ZXJ5ID09PSBcInN0cmluZ1wiKSB7XG4gICAgLy8gc2luZ2xlIGNhbGwgSWRcbiAgICBwYXRoRXh0ID0gYC8ke3F1ZXJ5fWA7XG4gIH0gZWxzZSBpZiAodHlwZW9mIHF1ZXJ5ID09PSBcIm9iamVjdFwiICYmIE9iamVjdC5rZXlzKHF1ZXJ5KS5sZW5ndGggPiAwKSB7XG4gICAgLy8gZmlsdGVyXG4gICAgcGF0aEV4dCA9IGA/JHtxdWVyeXN0cmluZy5zdHJpbmdpZnkocXVlcnkpfWA7XG4gIH1cblxuICByZXR1cm4gYCR7cGF0aH0ke3BhdGhFeHR9YDtcbn07XG5cbmV4cG9ydHMuZ2V0UXVlcnkgPSBmdW5jdGlvbiAocGF0aCkge1xuICByZXR1cm4gcXVlcnlzdHJpbmcucGFyc2UocGF0aC5zcGxpdChcIj9cIilbMV0pO1xufTtcblxuZXhwb3J0cy5zZW5kRXJyb3IgPSBmdW5jdGlvbiAoY2FsbGJhY2ssIGVyciwgcmV0dXJuRGF0YSkge1xuICAvLyBUaHJvdyB0aGUgZXJyb3IgaW4gY2FzZSBpZiB0aGVyZSBpcyBubyBjYWxsYmFjayBwYXNzZWRcbiAgaWYgKGNhbGxiYWNrKSB7XG4gICAgY2FsbGJhY2soZXJyLCByZXR1cm5EYXRhKTtcbiAgfSBlbHNlIHtcbiAgICB0aHJvdyBlcnI7XG4gIH1cbn07XG5cbmV4cG9ydHMuY2xvbmUgPSBmdW5jdGlvbiAoYSkge1xuICByZXR1cm4gSlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeShhKSk7XG59O1xuIl19