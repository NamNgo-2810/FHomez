"use strict";

var querystring = require("querystring");

var msgpath = {
  host: "rest.nexmo.com",
  path: "/sms/json"
};
var shortcodePath = {
  host: "rest.nexmo.com",
  path: "/sc/us/${type}/json"
};
var ttsEndpoint = {
  host: "api.nexmo.com",
  path: "/tts/json"
};
var ttsPromptEndpoint = {
  host: "api.nexmo.com",
  path: "/tts-prompt/json"
};
var callEndpoint = {
  host: "rest.nexmo.com",
  path: "/call/json"
};
var verifyEndpoint = {
  host: "api.nexmo.com",
  path: "/verify/json"
};
var checkVerifyEndpoint = {
  host: "api.nexmo.com",
  path: "/verify/check/json"
};
var controlVerifyEndpoint = {
  host: "api.nexmo.com",
  path: "/verify/control/json"
};
var searchVerifyEndpoint = {
  host: "api.nexmo.com",
  path: "/verify/search/json"
};
var niEndpoint = {
  host: "api.nexmo.com",
  path: "/ni/advanced/async/json"
};
var niBasicEndpoint = {
  host: "api.nexmo.com",
  path: "/ni/basic/json"
};
var niStandardEndpoint = {
  host: "api.nexmo.com",
  path: "/ni/standard/json"
};
var niAdvancedEndpoint = {
  host: "api.nexmo.com",
  path: "/ni/advanced/json"
};
var up = {};
var numberPattern = new RegExp("^[0-9 +()-]*$");
var _options = null; // Error message resources are maintained globally in one place for easy management

var ERROR_MESSAGES = {
  sender: "Invalid from address",
  to: "Invalid to address",
  msg: "Invalid Text Message",
  msgParams: "Invalid shortcode message parameters",
  countrycode: "Invalid Country Code",
  msisdn: "Invalid MSISDN passed",
  body: "Invalid Body value in Binary Message",
  udh: "Invalid udh value in Binary Message",
  title: "Invalid title in WAP Push message",
  url: "Invalid url in WAP Push message",
  maxDigits: "Invalid max digits for TTS prompt",
  byeText: "Invalid bye text for TTS prompt",
  pinCode: "Invalid pin code for TTS confirm",
  failedText: "Invalid failed text for TTS confirm",
  answerUrl: "Invalid answer URL for call",
  verifyValidation: "Missing Mandatory fields (number and/or brand)",
  checkVerifyValidation: "Missing Mandatory fields (request_id and/or code)",
  controlVerifyValidation: "Missing Mandatory fields (request_id and/or cmd-command)",
  searchVerifyValidation: "Missing Mandatory fields (request_id or request_ids)",
  numberInsightAdvancedValidation: "Missing Mandatory fields (number and/or callback url)",
  numberInsightValidation: "Missing Mandatory field - number",
  numberInsightPatternFailure: "Number can contain digits and may include any or all of the following: white space, -,+, (, ).",
  optionsNotAnObject: "Options parameter should be a dictionary. Check the docs for valid properties for options",
  product: "Invalid product. Should be one of [voice, sms]"
};

exports.initialize = function (pkey, psecret, options) {
  // These can default to empty as we may provide a private key for JWT auth
  // In that situation, private key and secret are not required. If you don't provide
  // A key/secret and try and make a request you'll get a 401 error back
  pkey = pkey || "";
  psecret = psecret || "";
  up = {
    api_key: pkey,
    api_secret: psecret
  };
  _options = options;

  if (_options.restHost) {
    msgpath.host = _options.restHost;
    shortcodePath.host = _options.restHost;
    callEndpoint.host = _options.restHost;
  }

  if (_options.apiHost) {
    ttsEndpoint.host = _options.apiHost;
    ttsPromptEndpoint.host = _options.apiHost;
    verifyEndpoint.host = _options.apiHost;
    checkVerifyEndpoint.host = _options.apiHost;
    controlVerifyEndpoint.host = _options.apiHost;
    searchVerifyEndpoint.host = _options.apiHost;
    niEndpoint.host = _options.apiHost;
    niBasicEndpoint.host = _options.apiHost;
    niStandardEndpoint.host = _options.apiHost;
    niAdvancedEndpoint.host = _options.apiHost;
  }
};

exports.sendBinaryMessage = function (sender, recipient, body, udh, callback) {
  if (!body) {
    sendError(callback, new Error(ERROR_MESSAGES.body));
  } else if (!udh) {
    sendError(callback, new Error(ERROR_MESSAGES.udh));
  } else {
    sendMessage({
      from: sender,
      to: recipient,
      type: "binary",
      body: body,
      udh: udh
    }, callback);
  }
};

exports.sendWapPushMessage = function (sender, recipient, title, url, validity, callback) {
  if (!title) {
    sendError(callback, new Error(ERROR_MESSAGES.title));
  } else if (!url) {
    sendError(callback, new Error(ERROR_MESSAGES.url));
  } else {
    if (typeof validity === "function") {
      callback = validity;
      validity = 86400000;
    }

    sendMessage({
      from: sender,
      to: recipient,
      type: "wappush",
      title: title,
      validity: validity,
      url: url
    }, callback);
  }
};

exports.sendTextMessage = function (sender, recipient, message, opts, callback) {
  if (!message) {
    sendError(callback, new Error(ERROR_MESSAGES.msg));
  } else {
    if (!callback) {
      callback = opts;
      opts = {};
    }

    opts["from"] = sender;
    opts["to"] = recipient;
    opts["text"] = message;
    sendMessage(opts, callback);
  }
};

exports.sendMessage = function (opts, callback) {
  sendMessage(opts, callback);
};

function sendMessage(data, callback) {
  if (!data.from) {
    sendError(callback, new Error(ERROR_MESSAGES.sender));
  } else if (!data.to) {
    sendError(callback, new Error(ERROR_MESSAGES.to));
  } else {
    var path = clone(msgpath);
    path.path += "?" + querystring.stringify(data);

    _options.logger.info("sending message from " + data.from + " to " + data.to + " with message " + data.text);

    sendRequest(path, "POST", function (err, apiResponse) {
      if (!err && apiResponse.status && apiResponse.messages[0].status > 0) {
        sendError(callback, new Error(apiResponse.messages[0]["error-text"]), apiResponse);
      } else {
        if (callback) callback(err, apiResponse);
      }
    });
  }
}

function sendViaShortcode(type, recipient, messageParams, opts, callback) {
  if (!recipient) {
    sendError(callback, new Error(ERROR_MESSAGES.to));
  }

  if (!messageParams || !Object.keys(messageParams)) {
    sendError(callback, new Error(ERROR_MESSAGES.msgParams));
  }

  opts = opts || {};
  var path = clone(shortcodePath);
  path.path = path.path.replace("${type}", type);
  Object.keys(messageParams).forEach(function (key) {
    opts[key] = messageParams[key];
  });
  opts.to = recipient;
  path.path += "?" + querystring.stringify(opts);

  _options.logger.info("sending message from shortcode " + type + " to " + recipient + " with parameters " + JSON.stringify(messageParams));

  sendRequest(path, "POST", function (err, apiResponse) {
    if (!err && apiResponse.status && apiResponse.messages[0].status > 0) {
      sendError(callback, new Error(apiResponse.messages[0]["error-text"]), apiResponse);
    } else {
      if (callback) callback(err, apiResponse);
    }
  });
}

exports.shortcodeAlert = function (recipient, messageParams, opts, callback) {
  sendViaShortcode("alert", recipient, messageParams, opts, callback);
};

exports.shortcode2FA = function (recipient, messageParams, opts, callback) {
  sendViaShortcode("2fa", recipient, messageParams, opts, callback);
};

exports.shortcodeMarketing = function (recipient, messageParams, opts, callback) {
  sendViaShortcode("marketing", recipient, messageParams, opts, callback);
};

function clone(a) {
  return JSON.parse(JSON.stringify(a));
}

function getEndpoint(action) {
  return {
    path: action
  };
}

function sendRequest(endpoint, method, callback) {
  endpoint.path = endpoint.path + (endpoint.path.indexOf("?") > 0 ? "&" : "?") + querystring.stringify(up);

  _options.httpClient.request(endpoint, method, callback);
}

exports.checkBalance = function (callback) {
  var balanceEndpoint = getEndpoint("/account/get-balance");
  sendRequest(balanceEndpoint, callback);
};

exports.getNumbers = function (options, callback) {
  var numbersEndpoint = getEndpoint("/account/numbers");

  if (typeof options === "function") {
    callback = options;
  } else if (typeof options === "object") {
    numbersEndpoint.path = numbersEndpoint.path + "?";

    for (var key in options) {
      numbersEndpoint.path = numbersEndpoint.path + key + "=" + options[key] + "&";
    }
  } else {
    sendError(callback, new Error(ERROR_MESSAGES.optionsNotAnObject));
    return;
  }

  sendRequest(numbersEndpoint, callback);
};

exports.searchNumbers = function (countryCode, pattern, callback) {
  if (!countryCode || countryCode.length !== 2) {
    sendError(callback, new Error(ERROR_MESSAGES.countrycode));
  } else {
    var searchEndpoint = getEndpoint("/number/search");
    searchEndpoint.path += "?country=" + countryCode;

    if (typeof pattern === "function") {
      callback = pattern;
    } else if (typeof pattern === "object") {
      searchEndpoint.path = searchEndpoint.path + "&";

      for (var arg in pattern) {
        searchEndpoint.path = searchEndpoint.path + arg + "=" + pattern[arg] + "&";
      }
    } else {
      searchEndpoint.path = searchEndpoint.path + "&pattern=" + pattern;
    }

    sendRequest(searchEndpoint, callback);
  }
};

exports.buyNumber = function (countryCode, msisdn, callback) {
  if (!countryCode || countryCode.length != 2) {
    sendError(callback, new Error(ERROR_MESSAGES.countrycode));
  } else if (!msisdn) {
    sendError(callback, new Error(ERROR_MESSAGES.msisdn));
  } else {
    var buyEndpoint = getEndpoint("/number/buy");
    buyEndpoint.path += "?country=" + countryCode + "&msisdn=" + msisdn;
    sendRequest(buyEndpoint, "POST", callback);
  }
};

exports.cancelNumber = function (countryCode, msisdn, callback) {
  if (!countryCode || countryCode.length !== 2) {
    sendError(callback, new Error(ERROR_MESSAGES.countrycode));
  } else if (!msisdn) {
    sendError(callback, new Error(ERROR_MESSAGES.msisdn));
  } else {
    var cancelEndpoint = getEndpoint("/number/cancel");
    cancelEndpoint.path += "?country=" + countryCode + "&msisdn=" + msisdn;
    sendRequest(cancelEndpoint, "POST", callback);
  }
};

exports.cancelNumber = function (countryCode, msisdn, callback) {
  if (!countryCode || countryCode.length !== 2) {
    sendError(callback, new Error(ERROR_MESSAGES.countrycode));
  } else if (!msisdn) {
    sendError(callback, new Error(ERROR_MESSAGES.msisdn));
  } else {
    var cancelEndpoint = getEndpoint("/number/cancel");
    cancelEndpoint.path += "?country=" + countryCode + "&msisdn=" + msisdn;
    sendRequest(cancelEndpoint, "POST", callback);
  }
};

exports.updateNumber = function (countryCode, msisdn, params, callback) {
  if (!countryCode || countryCode.length !== 2) {
    sendError(callback, new Error(ERROR_MESSAGES.countrycode));
  } else if (!msisdn) {
    sendError(callback, new Error(ERROR_MESSAGES.msisdn));
  } else {
    var updateEndpoint = getEndpoint("/number/update");
    updateEndpoint.path += "?country=" + countryCode + "&msisdn=" + msisdn;
    updateEndpoint.path = updateEndpoint.path + "&";

    for (var arg in params) {
      updateEndpoint.path = updateEndpoint.path + arg + "=" + encodeURIComponent(params[arg]) + "&";
    }

    sendRequest(updateEndpoint, "POST", callback);
  }
};

exports.changePassword = function (newSecret, callback) {
  var settingsEndpoint = getEndpoint("/account/settings");
  settingsEndpoint.path += "?newSecret=" + encodeURIComponent(newSecret);
  sendRequest(settingsEndpoint, "POST", callback);
};

exports.changeMoCallbackUrl = function (newUrl, callback) {
  var settingsEndpoint = getEndpoint("/account/settings");
  settingsEndpoint.path += "?moCallBackUrl=" + encodeURIComponent(newUrl);
  sendRequest(settingsEndpoint, "POST", callback);
};

exports.changeDrCallbackUrl = function (newUrl, callback) {
  var settingsEndpoint = getEndpoint("/account/settings");
  settingsEndpoint.path += "?drCallBackUrl=" + encodeURIComponent(newUrl);
  sendRequest(settingsEndpoint, "POST", callback);
};

exports.verifyNumber = function (inputParams, callback) {
  if (!inputParams.number || !inputParams.brand) {
    sendError(callback, new Error(ERROR_MESSAGES.verifyValidation));
  } else {
    var vEndpoint = clone(verifyEndpoint);
    vEndpoint.path += "?" + querystring.stringify(inputParams);
    sendRequest(vEndpoint, callback);
  }
};

exports.checkVerifyRequest = function (inputParams, callback) {
  if (!inputParams.request_id || !inputParams.code) {
    sendError(callback, new Error(ERROR_MESSAGES.checkVerifyValidation));
  } else {
    var vEndpoint = clone(checkVerifyEndpoint);
    vEndpoint.path += "?" + querystring.stringify(inputParams);
    sendRequest(vEndpoint, callback);
  }
};

exports.controlVerifyRequest = function (inputParams, callback) {
  if (!inputParams.request_id || !inputParams.cmd) {
    sendError(callback, new Error(ERROR_MESSAGES.controlVerifyValidation));
  } else {
    var vEndpoint = clone(controlVerifyEndpoint);
    vEndpoint.path += "?" + querystring.stringify(inputParams);
    sendRequest(vEndpoint, callback);
  }
};

exports.searchVerifyRequest = function (requestIds, callback) {
  var requestIdParam = {};

  if (!requestIds) {
    sendError(callback, new Error(ERROR_MESSAGES.searchVerifyValidation));
  } else {
    if (Array.isArray(requestIds)) {
      if (requestIds.length === 1) {
        requestIdParam.request_id = requestIds;
      } else {
        requestIdParam.request_ids = requestIds;
      }
    } else {
      requestIdParam.request_id = requestIds;
    }

    var vEndpoint = clone(searchVerifyEndpoint);
    vEndpoint.path += "?" + querystring.stringify(requestIdParam);
    sendRequest(vEndpoint, callback);
  }
};

exports.numberInsight = function (inputParams, callback) {
  numberInsightAsync(inputParams, callback);
};

exports.numberInsightBasic = function (inputParams, callback) {
  numberInsightCommon(niBasicEndpoint, inputParams, callback);
};

exports.numberInsightStandard = function (inputParams, callback) {
  numberInsightCommon(niStandardEndpoint, inputParams, callback);
};

exports.numberInsightAdvanced = function (inputParams, callback) {
  numberInsightCommon(niAdvancedEndpoint, inputParams, callback);
};

exports.numberInsightAdvancedAsync = function (inputParams, callback) {
  numberInsightAsync(inputParams, callback);
};

function numberInsightAsync(inputParams, callback) {
  if (!inputParams.number || !inputParams.callback) {
    sendError(callback, new Error(ERROR_MESSAGES.numberInsightAdvancedValidation));
  } else {
    var nEndpoint = clone(niEndpoint);
    nEndpoint.path += "?" + querystring.stringify(inputParams);
    sendRequest(nEndpoint, callback);
  }
}

function numberInsightCommon(endpoint, inputParams, callback) {
  if (validateNumber(inputParams, callback)) {
    var inputObj;

    if (typeof inputParams !== "object") {
      inputObj = {
        number: inputParams
      };
    } else {
      inputObj = inputParams;
    }

    var nEndpoint = clone(endpoint);
    nEndpoint.path += "?" + querystring.stringify(inputObj);
    sendRequest(nEndpoint, callback);
  }
}

function validateNumber(inputParams, callback) {
  if (typeof inputParams === "object" && !inputParams.number) {
    sendError(callback, new Error(ERROR_MESSAGES.numberInsightValidation));
    return false;
  } else if (typeof inputParams === "object" && !numberPattern.test(inputParams.number)) {
    sendError(callback, new Error(ERROR_MESSAGES.numberInsightPatternFailure));
    return false;
  } else if (typeof inputParams !== "object" && (!inputParams || !numberPattern.test(inputParams))) {
    sendError(callback, new Error(ERROR_MESSAGES.numberInsightPatternFailure));
    return false;
  }

  return true;
}

function sendVoiceMessage(voiceEndpoint, data, callback) {
  if (!data.to) {
    sendError(callback, new Error(ERROR_MESSAGES.to));
  } else {
    var endpoint = clone(voiceEndpoint);
    endpoint.path += "?" + querystring.stringify(data);

    _options.logger.info("sending TTS message to " + data.to + " with message " + data.text);

    sendRequest(endpoint, "POST", function (err, apiResponse) {
      if (!err && apiResponse.status && apiResponse.status > 0) {
        sendError(callback, new Error(apiResponse["error-text"]), apiResponse);
      } else {
        if (callback) callback(err, apiResponse);
      }
    });
  }
}

exports.sendTTSMessage = function (recipient, message, opts, callback) {
  if (!message) {
    sendError(callback, new Error(ERROR_MESSAGES.msg));
  } else {
    if (!opts) {
      opts = {};
    }

    opts["to"] = recipient;
    opts["text"] = message;
    sendVoiceMessage(ttsEndpoint, opts, callback);
  }
};

exports.sendTTSPromptWithCapture = function (recipient, message, maxDigits, byeText, opts, callback) {
  if (!message) {
    sendError(callback, new Error(ERROR_MESSAGES.msg));
  } else if (!maxDigits || isNaN(maxDigits) || maxDigits.length > 16) {
    sendError(callback, new Error(ERROR_MESSAGES.maxDigits));
  } else if (!byeText) {
    sendError(callback, new Error(ERROR_MESSAGES.byeText));
  } else {
    if (!opts) {
      opts = {};
    }

    opts["to"] = recipient;
    opts["text"] = message;
    opts["max_digits"] = maxDigits;
    opts["bye_text"] = byeText;
    sendVoiceMessage(ttsPromptEndpoint, opts, callback);
  }
};

exports.sendTTSPromptWithConfirm = function (recipient, message, maxDigits, pinCode, byeText, failedText, opts, callback) {
  if (!message) {
    sendError(callback, new Error(ERROR_MESSAGES.msg));
  } else if (!maxDigits || isNaN(maxDigits) || maxDigits.length > 16) {
    sendError(callback, new Error(ERROR_MESSAGES.maxDigits));
  } else if (!pinCode || pinCode.length !== maxDigits) {
    sendError(callback, new Error(ERROR_MESSAGES.pinCode));
  } else if (!byeText) {
    sendError(callback, new Error(ERROR_MESSAGES.byeText));
  } else if (!failedText) {
    sendError(callback, new Error(ERROR_MESSAGES.failedText));
  } else {
    if (!opts) {
      opts = {};
    }

    opts["to"] = recipient;
    opts["text"] = message;
    opts["max_digits"] = maxDigits;
    opts["pin_code"] = pinCode;
    opts["bye_text"] = byeText;
    opts["failed_text"] = failedText;
    sendVoiceMessage(ttsPromptEndpoint, opts, callback);
  }
};

exports.call = function (recipient, answerUrl, opts, callback) {
  if (!answerUrl) {
    sendError(callback, new Error(ERROR_MESSAGES.answerUrl));
  } else {
    if (!opts) {
      opts = {};
    }

    opts["to"] = recipient;
    opts["answer_url"] = answerUrl;
    sendVoiceMessage(callEndpoint, opts, callback);
  }
};

function sendError(callback, err, returnData) {
  // Throw the error in case if there is no callback passed
  if (callback) {
    callback(err, returnData);
  } else {
    throw err;
  }
}
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uL3NyYy9pbmRleC5qcyJdLCJuYW1lcyI6WyJxdWVyeXN0cmluZyIsInJlcXVpcmUiLCJtc2dwYXRoIiwiaG9zdCIsInBhdGgiLCJzaG9ydGNvZGVQYXRoIiwidHRzRW5kcG9pbnQiLCJ0dHNQcm9tcHRFbmRwb2ludCIsImNhbGxFbmRwb2ludCIsInZlcmlmeUVuZHBvaW50IiwiY2hlY2tWZXJpZnlFbmRwb2ludCIsImNvbnRyb2xWZXJpZnlFbmRwb2ludCIsInNlYXJjaFZlcmlmeUVuZHBvaW50IiwibmlFbmRwb2ludCIsIm5pQmFzaWNFbmRwb2ludCIsIm5pU3RhbmRhcmRFbmRwb2ludCIsIm5pQWR2YW5jZWRFbmRwb2ludCIsInVwIiwibnVtYmVyUGF0dGVybiIsIlJlZ0V4cCIsIl9vcHRpb25zIiwiRVJST1JfTUVTU0FHRVMiLCJzZW5kZXIiLCJ0byIsIm1zZyIsIm1zZ1BhcmFtcyIsImNvdW50cnljb2RlIiwibXNpc2RuIiwiYm9keSIsInVkaCIsInRpdGxlIiwidXJsIiwibWF4RGlnaXRzIiwiYnllVGV4dCIsInBpbkNvZGUiLCJmYWlsZWRUZXh0IiwiYW5zd2VyVXJsIiwidmVyaWZ5VmFsaWRhdGlvbiIsImNoZWNrVmVyaWZ5VmFsaWRhdGlvbiIsImNvbnRyb2xWZXJpZnlWYWxpZGF0aW9uIiwic2VhcmNoVmVyaWZ5VmFsaWRhdGlvbiIsIm51bWJlckluc2lnaHRBZHZhbmNlZFZhbGlkYXRpb24iLCJudW1iZXJJbnNpZ2h0VmFsaWRhdGlvbiIsIm51bWJlckluc2lnaHRQYXR0ZXJuRmFpbHVyZSIsIm9wdGlvbnNOb3RBbk9iamVjdCIsInByb2R1Y3QiLCJleHBvcnRzIiwiaW5pdGlhbGl6ZSIsInBrZXkiLCJwc2VjcmV0Iiwib3B0aW9ucyIsImFwaV9rZXkiLCJhcGlfc2VjcmV0IiwicmVzdEhvc3QiLCJhcGlIb3N0Iiwic2VuZEJpbmFyeU1lc3NhZ2UiLCJyZWNpcGllbnQiLCJjYWxsYmFjayIsInNlbmRFcnJvciIsIkVycm9yIiwic2VuZE1lc3NhZ2UiLCJmcm9tIiwidHlwZSIsInNlbmRXYXBQdXNoTWVzc2FnZSIsInZhbGlkaXR5Iiwic2VuZFRleHRNZXNzYWdlIiwibWVzc2FnZSIsIm9wdHMiLCJkYXRhIiwiY2xvbmUiLCJzdHJpbmdpZnkiLCJsb2dnZXIiLCJpbmZvIiwidGV4dCIsInNlbmRSZXF1ZXN0IiwiZXJyIiwiYXBpUmVzcG9uc2UiLCJzdGF0dXMiLCJtZXNzYWdlcyIsInNlbmRWaWFTaG9ydGNvZGUiLCJtZXNzYWdlUGFyYW1zIiwiT2JqZWN0Iiwia2V5cyIsInJlcGxhY2UiLCJmb3JFYWNoIiwia2V5IiwiSlNPTiIsInNob3J0Y29kZUFsZXJ0Iiwic2hvcnRjb2RlMkZBIiwic2hvcnRjb2RlTWFya2V0aW5nIiwiYSIsInBhcnNlIiwiZ2V0RW5kcG9pbnQiLCJhY3Rpb24iLCJlbmRwb2ludCIsIm1ldGhvZCIsImluZGV4T2YiLCJodHRwQ2xpZW50IiwicmVxdWVzdCIsImNoZWNrQmFsYW5jZSIsImJhbGFuY2VFbmRwb2ludCIsImdldE51bWJlcnMiLCJudW1iZXJzRW5kcG9pbnQiLCJzZWFyY2hOdW1iZXJzIiwiY291bnRyeUNvZGUiLCJwYXR0ZXJuIiwibGVuZ3RoIiwic2VhcmNoRW5kcG9pbnQiLCJhcmciLCJidXlOdW1iZXIiLCJidXlFbmRwb2ludCIsImNhbmNlbE51bWJlciIsImNhbmNlbEVuZHBvaW50IiwidXBkYXRlTnVtYmVyIiwicGFyYW1zIiwidXBkYXRlRW5kcG9pbnQiLCJlbmNvZGVVUklDb21wb25lbnQiLCJjaGFuZ2VQYXNzd29yZCIsIm5ld1NlY3JldCIsInNldHRpbmdzRW5kcG9pbnQiLCJjaGFuZ2VNb0NhbGxiYWNrVXJsIiwibmV3VXJsIiwiY2hhbmdlRHJDYWxsYmFja1VybCIsInZlcmlmeU51bWJlciIsImlucHV0UGFyYW1zIiwibnVtYmVyIiwiYnJhbmQiLCJ2RW5kcG9pbnQiLCJjaGVja1ZlcmlmeVJlcXVlc3QiLCJyZXF1ZXN0X2lkIiwiY29kZSIsImNvbnRyb2xWZXJpZnlSZXF1ZXN0IiwiY21kIiwic2VhcmNoVmVyaWZ5UmVxdWVzdCIsInJlcXVlc3RJZHMiLCJyZXF1ZXN0SWRQYXJhbSIsIkFycmF5IiwiaXNBcnJheSIsInJlcXVlc3RfaWRzIiwibnVtYmVySW5zaWdodCIsIm51bWJlckluc2lnaHRBc3luYyIsIm51bWJlckluc2lnaHRCYXNpYyIsIm51bWJlckluc2lnaHRDb21tb24iLCJudW1iZXJJbnNpZ2h0U3RhbmRhcmQiLCJudW1iZXJJbnNpZ2h0QWR2YW5jZWQiLCJudW1iZXJJbnNpZ2h0QWR2YW5jZWRBc3luYyIsIm5FbmRwb2ludCIsInZhbGlkYXRlTnVtYmVyIiwiaW5wdXRPYmoiLCJ0ZXN0Iiwic2VuZFZvaWNlTWVzc2FnZSIsInZvaWNlRW5kcG9pbnQiLCJzZW5kVFRTTWVzc2FnZSIsInNlbmRUVFNQcm9tcHRXaXRoQ2FwdHVyZSIsImlzTmFOIiwic2VuZFRUU1Byb21wdFdpdGhDb25maXJtIiwiY2FsbCIsInJldHVybkRhdGEiXSwibWFwcGluZ3MiOiJBQUFBOztBQUVBLElBQUlBLFdBQVcsR0FBR0MsT0FBTyxDQUFDLGFBQUQsQ0FBekI7O0FBRUEsSUFBSUMsT0FBTyxHQUFHO0FBQ1pDLEVBQUFBLElBQUksRUFBRSxnQkFETTtBQUVaQyxFQUFBQSxJQUFJLEVBQUU7QUFGTSxDQUFkO0FBSUEsSUFBSUMsYUFBYSxHQUFHO0FBQ2xCRixFQUFBQSxJQUFJLEVBQUUsZ0JBRFk7QUFFbEJDLEVBQUFBLElBQUksRUFBRTtBQUZZLENBQXBCO0FBSUEsSUFBSUUsV0FBVyxHQUFHO0FBQ2hCSCxFQUFBQSxJQUFJLEVBQUUsZUFEVTtBQUVoQkMsRUFBQUEsSUFBSSxFQUFFO0FBRlUsQ0FBbEI7QUFJQSxJQUFJRyxpQkFBaUIsR0FBRztBQUN0QkosRUFBQUEsSUFBSSxFQUFFLGVBRGdCO0FBRXRCQyxFQUFBQSxJQUFJLEVBQUU7QUFGZ0IsQ0FBeEI7QUFJQSxJQUFJSSxZQUFZLEdBQUc7QUFDakJMLEVBQUFBLElBQUksRUFBRSxnQkFEVztBQUVqQkMsRUFBQUEsSUFBSSxFQUFFO0FBRlcs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QVQsQ0FBbUJELFFBQW5CLEVBQTZCa0IsR0FBN0IsRUFBa0NrRixVQUFsQyxFQUE4QztBQUM1QztBQUNBLE1BQUlwRyxRQUFKLEVBQWM7QUFDWkEsSUFBQUEsUUFBUSxDQUFDa0IsR0FBRCxFQUFNa0YsVUFBTixDQUFSO0FBQ0QsR0FGRCxNQUVPO0FBQ0wsVUFBTWxGLEdBQU47QUFDRDtBQUNGIiwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5cbnZhciBxdWVyeXN0cmluZyA9IHJlcXVpcmUoXCJxdWVyeXN0cmluZ1wiKTtcblxudmFyIG1zZ3BhdGggPSB7XG4gIGhvc3Q6IFwicmVzdC5uZXhtby5jb21cIixcbiAgcGF0aDogXCIvc21zL2pzb25cIixcbn07XG52YXIgc2hvcnRjb2RlUGF0aCA9IHtcbiAgaG9zdDogXCJyZXN0Lm5leG1vLmNvbVwiLFxuICBwYXRoOiBcIi9zYy91cy8ke3R5cGV9L2pzb25cIixcbn07XG52YXIgdHRzRW5kcG9pbnQgPSB7XG4gIGhvc3Q6IFwiYXBpLm5leG1vLmNvbVwiLFxuICBwYXRoOiBcIi90dHMvanNvblwiLFxufTtcbnZhciB0dHNQcm9tcHRFbmRwb2ludCA9IHtcbiAgaG9zdDogXCJhcGkubmV4bW8uY29tXCIsXG4gIHBhdGg6IFwiL3R0cy1wcm9tcHQvanNvblwiLFxufTtcbnZhciBjYWxsRW5kcG9pbnQgPSB7XG4gIGhvc3Q6IFwicmVzdC5uZXhtby5jb21cIixcbiAgcGF0aDogXCIvY2FsbC9qc29uXCIsXG59O1xudmFyIHZlcmlmeUVuZHBvaW50ID0ge1xuICBob3N0OiBcImFwaS5uZXhtby5jb21cIixcbiAgcGF0aDogXCIvdmVyaWZ5L2pzb25cIixcbn07XG52YXIgY2hlY2tWZXJpZnlFbmRwb2ludCA9IHtcbiAgaG9zdDogXCJhcGkubmV4bW8uY29tXCIsXG4gIHBhdGg6IFwiL3ZlcmlmeS9jaGVjay9qc29uXCIsXG59O1xudmFyIGNvbnRyb2xWZXJpZnlFbmRwb2ludCA9IHtcbiAgaG9zdDogXCJhcGkubmV4bW8uY29tXCIsXG4gIHBhdGg6IFwiL3ZlcmlmeS9jb250cm9sL2pzb25cIixcbn07XG52YXIgc2VhcmNoVmVyaWZ5RW5kcG9pbnQgPSB7XG4gIGhvc3Q6IFwiYXBpLm5leG1vLmNvbVwiLFxuICBwYXRoOiBcIi92ZXJpZnkvc2VhcmNoL2pzb25cIixcbn07XG52YXIgbmlFbmRwb2ludCA9IHtcbiAgaG9zdDogXCJhcGkubmV4bW8uY29tXCIsXG4gIHBhdGg6IFwiL25pL2FkdmFuY2VkL2FzeW5jL2pzb25cIixcbn07XG52YXIgbmlCYXNpY0VuZHBvaW50ID0ge1xuICBob3N0OiBcImFwaS5uZXhtby5jb21cIixcbiAgcGF0aDogXCIvbmkvYmFzaWMvanNvblwiLFxufTtcbnZhciBuaVN0YW5kYXJkRW5kcG9pbnQgPSB7XG4gIGhvc3Q6IFwiYXBpLm5leG1vLmNvbVwiLFxuICBwYXRoOiBcIi9uaS9zdGFuZGFyZC9qc29uXCIsXG59O1xudmFyIG5pQWR2YW5jZWRFbmRwb2ludCA9IHtcbiAgaG9zdDogXCJhcGkubmV4bW8uY29tXCIsXG4gIHBhdGg6IFwiL25pL2FkdmFuY2VkL2pzb25cIixcbn07XG52YXIgdXAgPSB7fTtcbnZhciBudW1iZXJQYXR0ZXJuID0gbmV3IFJlZ0V4cChcIl5bMC05ICsoKS1dKiRcIik7XG5cbnZhciBfb3B0aW9ucyA9IG51bGw7XG5cbi8vIEVycm9yIG1lc3NhZ2UgcmVzb3VyY2VzIGFyZSBtYWludGFpbmVkIGdsb2JhbGx5IGluIG9uZSBwbGFjZSBmb3IgZWFzeSBtYW5hZ2VtZW50XG52YXIgRVJST1JfTUVTU0FHRVMgPSB7XG4gIHNlbmRlcjogXCJJbnZhbGlkIGZyb20gYWRkcmVzc1wiLFxuICB0bzogXCJJbnZhbGlkIHRvIGFkZHJlc3NcIixcbiAgbXNnOiBcIkludmFsaWQgVGV4dCBNZXNzYWdlXCIsXG4gIG1zZ1BhcmFtczogXCJJbnZhbGlkIHNob3J0Y29kZSBtZXNzYWdlIHBhcmFtZXRlcnNcIixcbiAgY291bnRyeWNvZGU6IFwiSW52YWxpZCBDb3VudHJ5IENvZGVcIixcbiAgbXNpc2RuOiBcIkludmFsaWQgTVNJU0ROIHBhc3NlZFwiLFxuICBib2R5OiBcIkludmFsaWQgQm9keSB2YWx1ZSBpbiBCaW5hcnkgTWVzc2FnZVwiLFxuICB1ZGg6IFwiSW52YWxpZCB1ZGggdmFsdWUgaW4gQmluYXJ5IE1lc3NhZ2VcIixcbiAgdGl0bGU6IFwiSW52YWxpZCB0aXRsZSBpbiBXQVAgUHVzaCBtZXNzYWdlXCIsXG4gIHVybDogXCJJbnZhbGlkIHVybCBpbiBXQVAgUHVzaCBtZXNzYWdlXCIsXG4gIG1heERpZ2l0czogXCJJbnZhbGlkIG1heCBkaWdpdHMgZm9yIFRUUyBwcm9tcHRcIixcbiAgYnllVGV4dDogXCJJbnZhbGlkIGJ5ZSB0ZXh0IGZvciBUVFMgcHJvbXB0XCIsXG4gIHBpbkNvZGU6IFwiSW52YWxpZCBwaW4gY29kZSBmb3IgVFRTIGNvbmZpcm1cIixcbiAgZmFpbGVkVGV4dDogXCJJbnZhbGlkIGZhaWxlZCB0ZXh0IGZvciBUVFMgY29uZmlybVwiLFxuICBhbnN3ZXJVcmw6IFwiSW52YWxpZCBhbnN3ZXIgVVJMIGZvciBjYWxsXCIsXG4gIHZlcmlmeVZhbGlkYXRpb246IFwiTWlzc2luZyBNYW5kYXRvcnkgZmllbGRzIChudW1iZXIgYW5kL29yIGJyYW5kKVwiLFxuICBjaGVja1ZlcmlmeVZhbGlkYXRpb246IFwiTWlzc2luZyBNYW5kYXRvcnkgZmllbGRzIChyZXF1ZXN0X2lkIGFuZC9vciBjb2RlKVwiLFxuICBjb250cm9sVmVyaWZ5VmFsaWRhdGlvbjpcbiAgICBcIk1pc3NpbmcgTWFuZGF0b3J5IGZpZWxkcyAocmVxdWVzdF9pZCBhbmQvb3IgY21kLWNvbW1hbmQpXCIsXG4gIHNlYXJjaFZlcmlmeVZhbGlkYXRpb246XG4gICAgXCJNaXNzaW5nIE1hbmRhdG9yeSBmaWVsZHMgKHJlcXVlc3RfaWQgb3IgcmVxdWVzdF9pZHMpXCIsXG4gIG51bWJlckluc2lnaHRBZHZhbmNlZFZhbGlkYXRpb246XG4gICAgXCJNaXNzaW5nIE1hbmRhdG9yeSBmaWVsZHMgKG51bWJlciBhbmQvb3IgY2FsbGJhY2sgdXJsKVwiLFxuICBudW1iZXJJbnNpZ2h0VmFsaWRhdGlvbjogXCJNaXNzaW5nIE1hbmRhdG9yeSBmaWVsZCAtIG51bWJlclwiLFxuICBudW1iZXJJbnNpZ2h0UGF0dGVybkZhaWx1cmU6XG4gICAgXCJOdW1iZXIgY2FuIGNvbnRhaW4gZGlnaXRzIGFuZCBtYXkgaW5jbHVkZSBhbnkgb3IgYWxsIG9mIHRoZSBmb2xsb3dpbmc6IHdoaXRlIHNwYWNlLCAtLCssICgsICkuXCIsXG4gIG9wdGlvbnNOb3RBbk9iamVjdDpcbiAgICBcIk9wdGlvbnMgcGFyYW1ldGVyIHNob3VsZCBiZSBhIGRpY3Rpb25hcnkuIENoZWNrIHRoZSBkb2NzIGZvciB2YWxpZCBwcm9wZXJ0aWVzIGZvciBvcHRpb25zXCIsXG4gIHByb2R1Y3Q6IFwiSW52YWxpZCBwcm9kdWN0LiBTaG91bGQgYmUgb25lIG9mIFt2b2ljZSwgc21zXVwiLFxufTtcblxuZXhwb3J0cy5pbml0aWFsaXplID0gZnVuY3Rpb24gKHBrZXksIHBzZWNyZXQsIG9wdGlvbnMpIHtcbiAgLy8gVGhlc2UgY2FuIGRlZmF1bHQgdG8gZW1wdHkgYXMgd2UgbWF5IHByb3ZpZGUgYSBwcml2YXRlIGtleSBmb3IgSldUIGF1dGhcbiAgLy8gSW4gdGhhdCBzaXR1YXRpb24sIHByaXZhdGUga2V5IGFuZCBzZWNyZXQgYXJlIG5vdCByZXF1aXJlZC4gSWYgeW91IGRvbid0IHByb3ZpZGVcbiAgLy8gQSBrZXkvc2VjcmV0IGFuZCB0cnkgYW5kIG1ha2UgYSByZXF1ZXN0IHlvdSdsbCBnZXQgYSA0MDEgZXJyb3IgYmFja1xuICBwa2V5ID0gcGtleSB8fCBcIlwiO1xuICBwc2VjcmV0ID0gcHNlY3JldCB8fCBcIlwiO1xuXG4gIHVwID0ge1xuICAgIGFwaV9rZXk6IHBrZXksXG4gICAgYXBpX3NlY3JldDogcHNlY3JldCxcbiAgfTtcbiAgX29wdGlvbnMgPSBvcHRpb25zO1xuXG4gIGlmIChfb3B0aW9ucy5yZXN0SG9zdCkge1xuICAgIG1zZ3BhdGguaG9zdCA9IF9vcHRpb25zLnJlc3RIb3N0O1xuICAgIHNob3J0Y29kZVBhdGguaG9zdCA9IF9vcHRpb25zLnJlc3RIb3N0O1xuICAgIGNhbGxFbmRwb2ludC5ob3N0ID0gX29wdGlvbnMucmVzdEhvc3Q7XG4gIH1cblxuICBpZiAoX29wdGlvbnMuYXBpSG9zdCkge1xuICAgIHR0c0VuZHBvaW50Lmhvc3QgPSBfb3B0aW9ucy5hcGlIb3N0O1xuICAgIHR0c1Byb21wdEVuZHBvaW50Lmhvc3QgPSBfb3B0aW9ucy5hcGlIb3N0O1xuICAgIHZlcmlmeUVuZHBvaW50Lmhvc3QgPSBfb3B0aW9ucy5hcGlIb3N0O1xuICAgIGNoZWNrVmVyaWZ5RW5kcG9pbnQuaG9zdCA9IF9vcHRpb25zLmFwaUhvc3Q7XG4gICAgY29udHJvbFZlcmlmeUVuZHBvaW50Lmhvc3QgPSBfb3B0aW9ucy5hcGlIb3N0O1xuICAgIHNlYXJjaFZlcmlmeUVuZHBvaW50Lmhvc3QgPSBfb3B0aW9ucy5hcGlIb3N0O1xuICAgIG5pRW5kcG9pbnQuaG9zdCA9IF9vcHRpb25zLmFwaUhvc3Q7XG4gICAgbmlCYXNpY0VuZHBvaW50Lmhvc3QgPSBfb3B0aW9ucy5hcGlIb3N0O1xuICAgIG5pU3RhbmRhcmRFbmRwb2ludC5ob3N0ID0gX29wdGlvbnMuYXBpSG9zdDtcbiAgICBuaUFkdmFuY2VkRW5kcG9pbnQuaG9zdCA9IF9vcHRpb25zLmFwaUhvc3Q7XG4gIH1cbn07XG5cbmV4cG9ydHMuc2VuZEJpbmFyeU1lc3NhZ2UgPSBmdW5jdGlvbiAoc2VuZGVyLCByZWNpcGllbnQsIGJvZHksIHVkaCwgY2FsbGJhY2spIHtcbiAgaWYgKCFib2R5KSB7XG4gICAgc2VuZEVycm9yKGNhbGxiYWNrLCBuZXcgRXJyb3IoRVJST1JfTUVTU0FHRVMuYm9keSkpO1xuICB9IGVsc2UgaWYgKCF1ZGgpIHtcbiAgICBzZW5kRXJyb3IoY2FsbGJhY2ssIG5ldyBFcnJvcihFUlJPUl9NRVNTQUdFUy51ZGgpKTtcbiAgfSBlbHNlIHtcbiAgICBzZW5kTWVzc2FnZShcbiAgICAgIHtcbiAgICAgICAgZnJvbTogc2VuZGVyLFxuICAgICAgICB0bzogcmVjaXBpZW50LFxuICAgICAgICB0eXBlOiBcImJpbmFyeVwiLFxuICAgICAgICBib2R5OiBib2R5LFxuICAgICAgICB1ZGg6IHVkaCxcbiAgICAgIH0sXG4gICAgICBjYWxsYmFja1xuICAgICk7XG4gIH1cbn07XG5cbmV4cG9ydHMuc2VuZFdhcFB1c2hNZXNzYWdlID0gZnVuY3Rpb24gKFxuICBzZW5kZXIsXG4gIHJlY2lwaWVudCxcbiAgdGl0bGUsXG4gIHVybCxcbiAgdmFsaWRpdHksXG4gIGNhbGxiYWNrXG4pIHtcbiAgaWYgKCF0aXRsZSkge1xuICAgIHNlbmRFcnJvcihjYWxsYmFjaywgbmV3IEVycm9yKEVSUk9SX01FU1NBR0VTLnRpdGxlKSk7XG4gIH0gZWxzZSBpZiAoIXVybCkge1xuICAgIHNlbmRFcnJvcihjYWxsYmFjaywgbmV3IEVycm9yKEVSUk9SX01FU1NBR0VTLnVybCkpO1xuICB9IGVsc2Uge1xuICAgIGlmICh0eXBlb2YgdmFsaWRpdHkgPT09IFwiZnVuY3Rpb25cIikge1xuICAgICAgY2FsbGJhY2sgPSB2YWxpZGl0eTtcbiAgICAgIHZhbGlkaXR5ID0gODY0MDAwMDA7XG4gICAgfVxuICAgIHNlbmRNZXNzYWdlKFxuICAgICAge1xuICAgICAgICBmcm9tOiBzZW5kZXIsXG4gICAgICAgIHRvOiByZWNpcGllbnQsXG4gICAgICAgIHR5cGU6IFwid2FwcHVzaFwiLFxuICAgICAgICB0aXRsZTogdGl0bGUsXG4gICAgICAgIHZhbGlkaXR5OiB2YWxpZGl0eSxcbiAgICAgICAgdXJsOiB1cmwsXG4gICAgICB9LFxuICAgICAgY2FsbGJhY2tcbiAgICApO1xuICB9XG59O1xuXG5leHBvcnRzLnNlbmRUZXh0TWVzc2FnZSA9IGZ1bmN0aW9uIChcbiAgc2VuZGVyLFxuICByZWNpcGllbnQsXG4gIG1lc3NhZ2UsXG4gIG9wdHMsXG4gIGNhbGxiYWNrXG4pIHtcbiAgaWYgKCFtZXNzYWdlKSB7XG4gICAgc2VuZEVycm9yKGNhbGxiYWNrLCBuZXcgRXJyb3IoRVJST1JfTUVTU0FHRVMubXNnKSk7XG4gIH0gZWxzZSB7XG4gICAgaWYgKCFjYWxsYmFjaykge1xuICAgICAgY2FsbGJhY2sgPSBvcHRzO1xuICAgICAgb3B0cyA9IHt9O1xuICAgIH1cbiAgICBvcHRzW1wiZnJvbVwiXSA9IHNlbmRlcjtcbiAgICBvcHRzW1widG9cIl0gPSByZWNpcGllbnQ7XG4gICAgb3B0c1tcInRleHRcIl0gPSBtZXNzYWdlO1xuICAgIHNlbmRNZXNzYWdlKG9wdHMsIGNhbGxiYWNrKTtcbiAgfVxufTtcblxuZXhwb3J0cy5zZW5kTWVzc2FnZSA9IGZ1bmN0aW9uIChvcHRzLCBjYWxsYmFjaykge1xuICBzZW5kTWVzc2FnZShvcHRzLCBjYWxsYmFjayk7XG59O1xuZnVuY3Rpb24gc2VuZE1lc3NhZ2UoZGF0YSwgY2FsbGJhY2spIHtcbiAgaWYgKCFkYXRhLmZyb20pIHtcbiAgICBzZW5kRXJyb3IoY2FsbGJhY2ssIG5ldyBFcnJvcihFUlJPUl9NRVNTQUdFUy5zZW5kZXIpKTtcbiAgfSBlbHNlIGlmICghZGF0YS50bykge1xuICAgIHNlbmRFcnJvcihjYWxsYmFjaywgbmV3IEVycm9yKEVSUk9SX01FU1NBR0VTLnRvKSk7XG4gIH0gZWxzZSB7XG4gICAgdmFyIHBhdGggPSBjbG9uZShtc2dwYXRoKTtcbiAgICBwYXRoLnBhdGggKz0gXCI/XCIgKyBxdWVyeXN0cmluZy5zdHJpbmdpZnkoZGF0YSk7XG4gICAgX29wdGlvbnMubG9nZ2VyLmluZm8oXG4gICAgICBcInNlbmRpbmcgbWVzc2FnZSBmcm9tIFwiICtcbiAgICAgICAgZGF0YS5mcm9tICtcbiAgICAgICAgXCIgdG8gXCIgK1xuICAgICAgICBkYXRhLnRvICtcbiAgICAgICAgXCIgd2l0aCBtZXNzYWdlIFwiICtcbiAgICAgICAgZGF0YS50ZXh0XG4gICAgKTtcbiAgICBzZW5kUmVxdWVzdChwYXRoLCBcIlBPU1RcIiwgZnVuY3Rpb24gKGVyciwgYXBpUmVzcG9uc2UpIHtcbiAgICAgIGlmICghZXJyICYmIGFwaVJlc3BvbnNlLnN0YXR1cyAmJiBhcGlSZXNwb25zZS5tZXNzYWdlc1swXS5zdGF0dXMgPiAwKSB7XG4gICAgICAgIHNlbmRFcnJvcihcbiAgICAgICAgICBjYWxsYmFjayxcbiAgICAgICAgICBuZXcgRXJyb3IoYXBpUmVzcG9uc2UubWVzc2FnZXNbMF1bXCJlcnJvci10ZXh0XCJdKSxcbiAgICAgICAgICBhcGlSZXNwb25zZVxuICAgICAgICApO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaWYgKGNhbGxiYWNrKSBjYWxsYmFjayhlcnIsIGFwaVJlc3BvbnNlKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxufVxuXG5mdW5jdGlvbiBzZW5kVmlhU2hvcnRjb2RlKHR5cGUsIHJlY2lwaWVudCwgbWVzc2FnZVBhcmFtcywgb3B0cywgY2FsbGJhY2spIHtcbiAgaWYgKCFyZWNpcGllbnQpIHtcbiAgICBzZW5kRXJyb3IoY2FsbGJhY2ssIG5ldyBFcnJvcihFUlJPUl9NRVNTQUdFUy50bykpO1xuICB9XG4gIGlmICghbWVzc2FnZVBhcmFtcyB8fCAhT2JqZWN0LmtleXMobWVzc2FnZVBhcmFtcykpIHtcbiAgICBzZW5kRXJyb3IoY2FsbGJhY2ssIG5ldyBFcnJvcihFUlJPUl9NRVNTQUdFUy5tc2dQYXJhbXMpKTtcbiAgfVxuICBvcHRzID0gb3B0cyB8fCB7fTtcbiAgdmFyIHBhdGggPSBjbG9uZShzaG9ydGNvZGVQYXRoKTtcbiAgcGF0aC5wYXRoID0gcGF0aC5wYXRoLnJlcGxhY2UoXCIke3R5cGV9XCIsIHR5cGUpO1xuICBPYmplY3Qua2V5cyhtZXNzYWdlUGFyYW1zKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHtcbiAgICBvcHRzW2tleV0gPSBtZXNzYWdlUGFyYW1zW2tleV07XG4gIH0pO1xuICBvcHRzLnRvID0gcmVjaXBpZW50O1xuICBwYXRoLnBhdGggKz0gXCI/XCIgKyBxdWVyeXN0cmluZy5zdHJpbmdpZnkob3B0cyk7XG4gIF9vcHRpb25zLmxvZ2dlci5pbmZvKFxuICAgIFwic2VuZGluZyBtZXNzYWdlIGZyb20gc2hvcnRjb2RlIFwiICtcbiAgICAgIHR5cGUgK1xuICAgICAgXCIgdG8gXCIgK1xuICAgICAgcmVjaXBpZW50ICtcbiAgICAgIFwiIHdpdGggcGFyYW1ldGVycyBcIiArXG4gICAgICBKU09OLnN0cmluZ2lmeShtZXNzYWdlUGFyYW1zKVxuICApO1xuICBzZW5kUmVxdWVzdChwYXRoLCBcIlBPU1RcIiwgZnVuY3Rpb24gKGVyciwgYXBpUmVzcG9uc2UpIHtcbiAgICBpZiAoIWVyciAmJiBhcGlSZXNwb25zZS5zdGF0dXMgJiYgYXBpUmVzcG9uc2UubWVzc2FnZXNbMF0uc3RhdHVzID4gMCkge1xuICAgICAgc2VuZEVycm9yKFxuICAgICAgICBjYWxsYmFjayxcbiAgICAgICAgbmV3IEVycm9yKGFwaVJlc3BvbnNlLm1lc3NhZ2VzWzBdW1wiZXJyb3ItdGV4dFwiXSksXG4gICAgICAgIGFwaVJlc3BvbnNlXG4gICAgICApO1xuICAgIH0gZWxzZSB7XG4gICAgICBpZiAoY2FsbGJhY2spIGNhbGxiYWNrKGVyciwgYXBpUmVzcG9uc2UpO1xuICAgIH1cbiAgfSk7XG59XG5leHBvcnRzLnNob3J0Y29kZUFsZXJ0ID0gZnVuY3Rpb24gKHJlY2lwaWVudCwgbWVzc2FnZVBhcmFtcywgb3B0cywgY2FsbGJhY2spIHtcbiAgc2VuZFZpYVNob3J0Y29kZShcImFsZXJ0XCIsIHJlY2lwaWVudCwgbWVzc2FnZVBhcmFtcywgb3B0cywgY2FsbGJhY2spO1xufTtcbmV4cG9ydHMuc2hvcnRjb2RlMkZBID0gZnVuY3Rpb24gKHJlY2lwaWVudCwgbWVzc2FnZVBhcmFtcywgb3B0cywgY2FsbGJhY2spIHtcbiAgc2VuZFZpYVNob3J0Y29kZShcIjJmYVwiLCByZWNpcGllbnQsIG1lc3NhZ2VQYXJhbXMsIG9wdHMsIGNhbGxiYWNrKTtcbn07XG5leHBvcnRzLnNob3J0Y29kZU1hcmtldGluZyA9IGZ1bmN0aW9uIChcbiAgcmVjaXBpZW50LFxuICBtZXNzYWdlUGFyYW1zLFxuICBvcHRzLFxuICBjYWxsYmFja1xuKSB7XG4gIHNlbmRWaWFTaG9ydGNvZGUoXCJtYXJrZXRpbmdcIiwgcmVjaXBpZW50LCBtZXNzYWdlUGFyYW1zLCBvcHRzLCBjYWxsYmFjayk7XG59O1xuXG5mdW5jdGlvbiBjbG9uZShhKSB7XG4gIHJldHVybiBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KGEpKTtcbn1cblxuZnVuY3Rpb24gZ2V0RW5kcG9pbnQoYWN0aW9uKSB7XG4gIHJldHVybiB7IHBhdGg6IGFjdGlvbiB9O1xufVxuXG5mdW5jdGlvbiBzZW5kUmVxdWVzdChlbmRwb2ludCwgbWV0aG9kLCBjYWxsYmFjaykge1xuICBlbmRwb2ludC5wYXRoID1cbiAgICBlbmRwb2ludC5wYXRoICtcbiAgICAoZW5kcG9pbnQucGF0aC5pbmRleE9mKFwiP1wiKSA+IDAgPyBcIiZcIiA6IFwiP1wiKSArXG4gICAgcXVlcnlzdHJpbmcuc3RyaW5naWZ5KHVwKTtcbiAgX29wdGlvbnMuaHR0cENsaWVudC5yZXF1ZXN0KGVuZHBvaW50LCBtZXRob2QsIGNhbGxiYWNrKTtcbn1cblxuZXhwb3J0cy5jaGVja0JhbGFuY2UgPSBmdW5jdGlvbiAoY2FsbGJhY2spIHtcbiAgdmFyIGJhbGFuY2VFbmRwb2ludCA9IGdldEVuZHBvaW50KFwiL2FjY291bnQvZ2V0LWJhbGFuY2VcIik7XG4gIHNlbmRSZXF1ZXN0KGJhbGFuY2VFbmRwb2ludCwgY2FsbGJhY2spO1xufTtcblxuZXhwb3J0cy5nZXROdW1iZXJzID0gZnVuY3Rpb24gKG9wdGlvbnMsIGNhbGxiYWNrKSB7XG4gIHZhciBudW1iZXJzRW5kcG9pbnQgPSBnZXRFbmRwb2ludChcIi9hY2NvdW50L251bWJlcnNcIik7XG4gIGlmICh0eXBlb2Ygb3B0aW9ucyA9PT0gXCJmdW5jdGlvblwiKSB7XG4gICAgY2FsbGJhY2sgPSBvcHRpb25zO1xuICB9IGVsc2UgaWYgKHR5cGVvZiBvcHRpb25zID09PSBcIm9iamVjdFwiKSB7XG4gICAgbnVtYmVyc0VuZHBvaW50LnBhdGggPSBudW1iZXJzRW5kcG9pbnQucGF0aCArIFwiP1wiO1xuICAgIGZvciAodmFyIGtleSBpbiBvcHRpb25zKSB7XG4gICAgICBudW1iZXJzRW5kcG9pbnQucGF0aCA9XG4gICAgICAgIG51bWJlcnNFbmRwb2ludC5wYXRoICsga2V5ICsgXCI9XCIgKyBvcHRpb25zW2tleV0gKyBcIiZcIjtcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgc2VuZEVycm9yKGNhbGxiYWNrLCBuZXcgRXJyb3IoRVJST1JfTUVTU0FHRVMub3B0aW9uc05vdEFuT2JqZWN0KSk7XG4gICAgcmV0dXJuO1xuICB9XG4gIHNlbmRSZXF1ZXN0KG51bWJlcnNFbmRwb2ludCwgY2FsbGJhY2spO1xufTtcblxuZXhwb3J0cy5zZWFyY2hOdW1iZXJzID0gZnVuY3Rpb24gKGNvdW50cnlDb2RlLCBwYXR0ZXJuLCBjYWxsYmFjaykge1xuICBpZiAoIWNvdW50cnlDb2RlIHx8IGNvdW50cnlDb2RlLmxlbmd0aCAhPT0gMikge1xuICAgIHNlbmRFcnJvcihjYWxsYmFjaywgbmV3IEVycm9yKEVSUk9SX01FU1NBR0VTLmNvdW50cnljb2RlKSk7XG4gIH0gZWxzZSB7XG4gICAgdmFyIHNlYXJjaEVuZHBvaW50ID0gZ2V0RW5kcG9pbnQoXCIvbnVtYmVyL3NlYXJjaFwiKTtcbiAgICBzZWFyY2hFbmRwb2ludC5wYXRoICs9IFwiP2NvdW50cnk9XCIgKyBjb3VudHJ5Q29kZTtcbiAgICBpZiAodHlwZW9mIHBhdHRlcm4gPT09IFwiZnVuY3Rpb25cIikge1xuICAgICAgY2FsbGJhY2sgPSBwYXR0ZXJuO1xuICAgIH0gZWxzZSBpZiAodHlwZW9mIHBhdHRlcm4gPT09IFwib2JqZWN0XCIpIHtcbiAgICAgIHNlYXJjaEVuZHBvaW50LnBhdGggPSBzZWFyY2hFbmRwb2ludC5wYXRoICsgXCImXCI7XG4gICAgICBmb3IgKHZhciBhcmcgaW4gcGF0dGVybikge1xuICAgICAgICBzZWFyY2hFbmRwb2ludC5wYXRoID1cbiAgICAgICAgICBzZWFyY2hFbmRwb2ludC5wYXRoICsgYXJnICsgXCI9XCIgKyBwYXR0ZXJuW2FyZ10gKyBcIiZcIjtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgc2VhcmNoRW5kcG9pbnQucGF0aCA9IHNlYXJjaEVuZHBvaW50LnBhdGggKyBcIiZwYXR0ZXJuPVwiICsgcGF0dGVybjtcbiAgICB9XG4gICAgc2VuZFJlcXVlc3Qoc2VhcmNoRW5kcG9pbnQsIGNhbGxiYWNrKTtcbiAgfVxufTtcblxuZXhwb3J0cy5idXlOdW1iZXIgPSBmdW5jdGlvbiAoY291bnRyeUNvZGUsIG1zaXNkbiwgY2FsbGJhY2spIHtcbiAgaWYgKCFjb3VudHJ5Q29kZSB8fCBjb3VudHJ5Q29kZS5sZW5ndGggIT0gMikge1xuICAgIHNlbmRFcnJvcihjYWxsYmFjaywgbmV3IEVycm9yKEVSUk9SX01FU1NBR0VTLmNvdW50cnljb2RlKSk7XG4gIH0gZWxzZSBpZiAoIW1zaXNkbikge1xuICAgIHNlbmRFcnJvcihjYWxsYmFjaywgbmV3IEVycm9yKEVSUk9SX01FU1NBR0VTLm1zaXNkbikpO1xuICB9IGVsc2Uge1xuICAgIHZhciBidXlFbmRwb2ludCA9IGdldEVuZHBvaW50KFwiL251bWJlci9idXlcIik7XG4gICAgYnV5RW5kcG9pbnQucGF0aCArPSBcIj9jb3VudHJ5PVwiICsgY291bnRyeUNvZGUgKyBcIiZtc2lzZG49XCIgKyBtc2lzZG47XG4gICAgc2VuZFJlcXVlc3QoYnV5RW5kcG9pbnQsIFwiUE9TVFwiLCBjYWxsYmFjayk7XG4gIH1cbn07XG5cbmV4cG9ydHMuY2FuY2VsTnVtYmVyID0gZnVuY3Rpb24gKGNvdW50cnlDb2RlLCBtc2lzZG4sIGNhbGxiYWNrKSB7XG4gIGlmICghY291bnRyeUNvZGUgfHwgY291bnRyeUNvZGUubGVuZ3RoICE9PSAyKSB7XG4gICAgc2VuZEVycm9yKGNhbGxiYWNrLCBuZXcgRXJyb3IoRVJST1JfTUVTU0FHRVMuY291bnRyeWNvZGUpKTtcbiAgfSBlbHNlIGlmICghbXNpc2RuKSB7XG4gICAgc2VuZEVycm9yKGNhbGxiYWNrLCBuZXcgRXJyb3IoRVJST1JfTUVTU0FHRVMubXNpc2RuKSk7XG4gIH0gZWxzZSB7XG4gICAgdmFyIGNhbmNlbEVuZHBvaW50ID0gZ2V0RW5kcG9pbnQoXCIvbnVtYmVyL2NhbmNlbFwiKTtcbiAgICBjYW5jZWxFbmRwb2ludC5wYXRoICs9IFwiP2NvdW50cnk9XCIgKyBjb3VudHJ5Q29kZSArIFwiJm1zaXNkbj1cIiArIG1zaXNkbjtcbiAgICBzZW5kUmVxdWVzdChjYW5jZWxFbmRwb2ludCwgXCJQT1NUXCIsIGNhbGxiYWNrKTtcbiAgfVxufTtcblxuZXhwb3J0cy5jYW5jZWxOdW1iZXIgPSBmdW5jdGlvbiAoY291bnRyeUNvZGUsIG1zaXNkbiwgY2FsbGJhY2spIHtcbiAgaWYgKCFjb3VudHJ5Q29kZSB8fCBjb3VudHJ5Q29kZS5sZW5ndGggIT09IDIpIHtcbiAgICBzZW5kRXJyb3IoY2FsbGJhY2ssIG5ldyBFcnJvcihFUlJPUl9NRVNTQUdFUy5jb3VudHJ5Y29kZSkpO1xuICB9IGVsc2UgaWYgKCFtc2lzZG4pIHtcbiAgICBzZW5kRXJyb3IoY2FsbGJhY2ssIG5ldyBFcnJvcihFUlJPUl9NRVNTQUdFUy5tc2lzZG4pKTtcbiAgfSBlbHNlIHtcbiAgICB2YXIgY2FuY2VsRW5kcG9pbnQgPSBnZXRFbmRwb2ludChcIi9udW1iZXIvY2FuY2VsXCIpO1xuICAgIGNhbmNlbEVuZHBvaW50LnBhdGggKz0gXCI/Y291bnRyeT1cIiArIGNvdW50cnlDb2RlICsgXCImbXNpc2RuPVwiICsgbXNpc2RuO1xuICAgIHNlbmRSZXF1ZXN0KGNhbmNlbEVuZHBvaW50LCBcIlBPU1RcIiwgY2FsbGJhY2spO1xuICB9XG59O1xuXG5leHBvcnRzLnVwZGF0ZU51bWJlciA9IGZ1bmN0aW9uIChjb3VudHJ5Q29kZSwgbXNpc2RuLCBwYXJhbXMsIGNhbGxiYWNrKSB7XG4gIGlmICghY291bnRyeUNvZGUgfHwgY291bnRyeUNvZGUubGVuZ3RoICE9PSAyKSB7XG4gICAgc2VuZEVycm9yKGNhbGxiYWNrLCBuZXcgRXJyb3IoRVJST1JfTUVTU0FHRVMuY291bnRyeWNvZGUpKTtcbiAgfSBlbHNlIGlmICghbXNpc2RuKSB7XG4gICAgc2VuZEVycm9yKGNhbGxiYWNrLCBuZXcgRXJyb3IoRVJST1JfTUVTU0FHRVMubXNpc2RuKSk7XG4gIH0gZWxzZSB7XG4gICAgdmFyIHVwZGF0ZUVuZHBvaW50ID0gZ2V0RW5kcG9pbnQoXCIvbnVtYmVyL3VwZGF0ZVwiKTtcbiAgICB1cGRhdGVFbmRwb2ludC5wYXRoICs9IFwiP2NvdW50cnk9XCIgKyBjb3VudHJ5Q29kZSArIFwiJm1zaXNkbj1cIiArIG1zaXNkbjtcbiAgICB1cGRhdGVFbmRwb2ludC5wYXRoID0gdXBkYXRlRW5kcG9pbnQucGF0aCArIFwiJlwiO1xuICAgIGZvciAodmFyIGFyZyBpbiBwYXJhbXMpIHtcbiAgICAgIHVwZGF0ZUVuZHBvaW50LnBhdGggPVxuICAgICAgICB1cGRhdGVFbmRwb2ludC5wYXRoICsgYXJnICsgXCI9XCIgKyBlbmNvZGVVUklDb21wb25lbnQocGFyYW1zW2FyZ10pICsgXCImXCI7XG4gICAgfVxuICAgIHNlbmRSZXF1ZXN0KHVwZGF0ZUVuZHBvaW50LCBcIlBPU1RcIiwgY2FsbGJhY2spO1xuICB9XG59O1xuXG5leHBvcnRzLmNoYW5nZVBhc3N3b3JkID0gZnVuY3Rpb24gKG5ld1NlY3JldCwgY2FsbGJhY2spIHtcbiAgdmFyIHNldHRpbmdzRW5kcG9pbnQgPSBnZXRFbmRwb2ludChcIi9hY2NvdW50L3NldHRpbmdzXCIpO1xuICBzZXR0aW5nc0VuZHBvaW50LnBhdGggKz0gXCI/bmV3U2VjcmV0PVwiICsgZW5jb2RlVVJJQ29tcG9uZW50KG5ld1NlY3JldCk7XG4gIHNlbmRSZXF1ZXN0KHNldHRpbmdzRW5kcG9pbnQsIFwiUE9TVFwiLCBjYWxsYmFjayk7XG59O1xuXG5leHBvcnRzLmNoYW5nZU1vQ2FsbGJhY2tVcmwgPSBmdW5jdGlvbiAobmV3VXJsLCBjYWxsYmFjaykge1xuICB2YXIgc2V0dGluZ3NFbmRwb2ludCA9IGdldEVuZHBvaW50KFwiL2FjY291bnQvc2V0dGluZ3NcIik7XG4gIHNldHRpbmdzRW5kcG9pbnQucGF0aCArPSBcIj9tb0NhbGxCYWNrVXJsPVwiICsgZW5jb2RlVVJJQ29tcG9uZW50KG5ld1VybCk7XG4gIHNlbmRSZXF1ZXN0KHNldHRpbmdzRW5kcG9pbnQsIFwiUE9TVFwiLCBjYWxsYmFjayk7XG59O1xuXG5leHBvcnRzLmNoYW5nZURyQ2FsbGJhY2tVcmwgPSBmdW5jdGlvbiAobmV3VXJsLCBjYWxsYmFjaykge1xuICB2YXIgc2V0dGluZ3NFbmRwb2ludCA9IGdldEVuZHBvaW50KFwiL2FjY291bnQvc2V0dGluZ3NcIik7XG4gIHNldHRpbmdzRW5kcG9pbnQucGF0aCArPSBcIj9kckNhbGxCYWNrVXJsPVwiICsgZW5jb2RlVVJJQ29tcG9uZW50KG5ld1VybCk7XG4gIHNlbmRSZXF1ZXN0KHNldHRpbmdzRW5kcG9pbnQsIFwiUE9TVFwiLCBjYWxsYmFjayk7XG59O1xuXG5leHBvcnRzLnZlcmlmeU51bWJlciA9IGZ1bmN0aW9uIChpbnB1dFBhcmFtcywgY2FsbGJhY2spIHtcbiAgaWYgKCFpbnB1dFBhcmFtcy5udW1iZXIgfHwgIWlucHV0UGFyYW1zLmJyYW5kKSB7XG4gICAgc2VuZEVycm9yKGNhbGxiYWNrLCBuZXcgRXJyb3IoRVJST1JfTUVTU0FHRVMudmVyaWZ5VmFsaWRhdGlvbikpO1xuICB9IGVsc2Uge1xuICAgIHZhciB2RW5kcG9pbnQgPSBjbG9uZSh2ZXJpZnlFbmRwb2ludCk7XG4gICAgdkVuZHBvaW50LnBhdGggKz0gXCI/XCIgKyBxdWVyeXN0cmluZy5zdHJpbmdpZnkoaW5wdXRQYXJhbXMpO1xuICAgIHNlbmRSZXF1ZXN0KHZFbmRwb2ludCwgY2FsbGJhY2spO1xuICB9XG59O1xuXG5leHBvcnRzLmNoZWNrVmVyaWZ5UmVxdWVzdCA9IGZ1bmN0aW9uIChpbnB1dFBhcmFtcywgY2FsbGJhY2spIHtcbiAgaWYgKCFpbnB1dFBhcmFtcy5yZXF1ZXN0X2lkIHx8ICFpbnB1dFBhcmFtcy5jb2RlKSB7XG4gICAgc2VuZEVycm9yKGNhbGxiYWNrLCBuZXcgRXJyb3IoRVJST1JfTUVTU0FHRVMuY2hlY2tWZXJpZnlWYWxpZGF0aW9uKSk7XG4gIH0gZWxzZSB7XG4gICAgdmFyIHZFbmRwb2ludCA9IGNsb25lKGNoZWNrVmVyaWZ5RW5kcG9pbnQpO1xuICAgIHZFbmRwb2ludC5wYXRoICs9IFwiP1wiICsgcXVlcnlzdHJpbmcuc3RyaW5naWZ5KGlucHV0UGFyYW1zKTtcbiAgICBzZW5kUmVxdWVzdCh2RW5kcG9pbnQsIGNhbGxiYWNrKTtcbiAgfVxufTtcblxuZXhwb3J0cy5jb250cm9sVmVyaWZ5UmVxdWVzdCA9IGZ1bmN0aW9uIChpbnB1dFBhcmFtcywgY2FsbGJhY2spIHtcbiAgaWYgKCFpbnB1dFBhcmFtcy5yZXF1ZXN0X2lkIHx8ICFpbnB1dFBhcmFtcy5jbWQpIHtcbiAgICBzZW5kRXJyb3IoY2FsbGJhY2ssIG5ldyBFcnJvcihFUlJPUl9NRVNTQUdFUy5jb250cm9sVmVyaWZ5VmFsaWRhdGlvbikpO1xuICB9IGVsc2Uge1xuICAgIHZhciB2RW5kcG9pbnQgPSBjbG9uZShjb250cm9sVmVyaWZ5RW5kcG9pbnQpO1xuICAgIHZFbmRwb2ludC5wYXRoICs9IFwiP1wiICsgcXVlcnlzdHJpbmcuc3RyaW5naWZ5KGlucHV0UGFyYW1zKTtcbiAgICBzZW5kUmVxdWVzdCh2RW5kcG9pbnQsIGNhbGxiYWNrKTtcbiAgfVxufTtcblxuZXhwb3J0cy5zZWFyY2hWZXJpZnlSZXF1ZXN0ID0gZnVuY3Rpb24gKHJlcXVlc3RJZHMsIGNhbGxiYWNrKSB7XG4gIHZhciByZXF1ZXN0SWRQYXJhbSA9IHt9O1xuICBpZiAoIXJlcXVlc3RJZHMpIHtcbiAgICBzZW5kRXJyb3IoY2FsbGJhY2ssIG5ldyBFcnJvcihFUlJPUl9NRVNTQUdFUy5zZWFyY2hWZXJpZnlWYWxpZGF0aW9uKSk7XG4gIH0gZWxzZSB7XG4gICAgaWYgKEFycmF5LmlzQXJyYXkocmVxdWVzdElkcykpIHtcbiAgICAgIGlmIChyZXF1ZXN0SWRzLmxlbmd0aCA9PT0gMSkge1xuICAgICAgICByZXF1ZXN0SWRQYXJhbS5yZXF1ZXN0X2lkID0gcmVxdWVzdElkcztcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJlcXVlc3RJZFBhcmFtLnJlcXVlc3RfaWRzID0gcmVxdWVzdElkcztcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgcmVxdWVzdElkUGFyYW0ucmVxdWVzdF9pZCA9IHJlcXVlc3RJZHM7XG4gICAgfVxuICAgIHZhciB2RW5kcG9pbnQgPSBjbG9uZShzZWFyY2hWZXJpZnlFbmRwb2ludCk7XG4gICAgdkVuZHBvaW50LnBhdGggKz0gXCI/XCIgKyBxdWVyeXN0cmluZy5zdHJpbmdpZnkocmVxdWVzdElkUGFyYW0pO1xuICAgIHNlbmRSZXF1ZXN0KHZFbmRwb2ludCwgY2FsbGJhY2spO1xuICB9XG59O1xuXG5leHBvcnRzLm51bWJlckluc2lnaHQgPSBmdW5jdGlvbiAoaW5wdXRQYXJhbXMsIGNhbGxiYWNrKSB7XG4gIG51bWJlckluc2lnaHRBc3luYyhpbnB1dFBhcmFtcywgY2FsbGJhY2spO1xufTtcblxuZXhwb3J0cy5udW1iZXJJbnNpZ2h0QmFzaWMgPSBmdW5jdGlvbiAoaW5wdXRQYXJhbXMsIGNhbGxiYWNrKSB7XG4gIG51bWJlckluc2lnaHRDb21tb24obmlCYXNpY0VuZHBvaW50LCBpbnB1dFBhcmFtcywgY2FsbGJhY2spO1xufTtcblxuZXhwb3J0cy5udW1iZXJJbnNpZ2h0U3RhbmRhcmQgPSBmdW5jdGlvbiAoaW5wdXRQYXJhbXMsIGNhbGxiYWNrKSB7XG4gIG51bWJlckluc2lnaHRDb21tb24obmlTdGFuZGFyZEVuZHBvaW50LCBpbnB1dFBhcmFtcywgY2FsbGJhY2spO1xufTtcblxuZXhwb3J0cy5udW1iZXJJbnNpZ2h0QWR2YW5jZWQgPSBmdW5jdGlvbiAoaW5wdXRQYXJhbXMsIGNhbGxiYWNrKSB7XG4gIG51bWJlckluc2lnaHRDb21tb24obmlBZHZhbmNlZEVuZHBvaW50LCBpbnB1dFBhcmFtcywgY2FsbGJhY2spO1xufTtcblxuZXhwb3J0cy5udW1iZXJJbnNpZ2h0QWR2YW5jZWRBc3luYyA9IGZ1bmN0aW9uIChpbnB1dFBhcmFtcywgY2FsbGJhY2spIHtcbiAgbnVtYmVySW5zaWdodEFzeW5jKGlucHV0UGFyYW1zLCBjYWxsYmFjayk7XG59O1xuXG5mdW5jdGlvbiBudW1iZXJJbnNpZ2h0QXN5bmMoaW5wdXRQYXJhbXMsIGNhbGxiYWNrKSB7XG4gIGlmICghaW5wdXRQYXJhbXMubnVtYmVyIHx8ICFpbnB1dFBhcmFtcy5jYWxsYmFjaykge1xuICAgIHNlbmRFcnJvcihcbiAgICAgIGNhbGxiYWNrLFxuICAgICAgbmV3IEVycm9yKEVSUk9SX01FU1NBR0VTLm51bWJlckluc2lnaHRBZHZhbmNlZFZhbGlkYXRpb24pXG4gICAgKTtcbiAgfSBlbHNlIHtcbiAgICB2YXIgbkVuZHBvaW50ID0gY2xvbmUobmlFbmRwb2ludCk7XG4gICAgbkVuZHBvaW50LnBhdGggKz0gXCI/XCIgKyBxdWVyeXN0cmluZy5zdHJpbmdpZnkoaW5wdXRQYXJhbXMpO1xuICAgIHNlbmRSZXF1ZXN0KG5FbmRwb2ludCwgY2FsbGJhY2spO1xuICB9XG59XG5cbmZ1bmN0aW9uIG51bWJlckluc2lnaHRDb21tb24oZW5kcG9pbnQsIGlucHV0UGFyYW1zLCBjYWxsYmFjaykge1xuICBpZiAodmFsaWRhdGVOdW1iZXIoaW5wdXRQYXJhbXMsIGNhbGxiYWNrKSkge1xuICAgIHZhciBpbnB1dE9iajtcbiAgICBpZiAodHlwZW9mIGlucHV0UGFyYW1zICE9PSBcIm9iamVjdFwiKSB7XG4gICAgICBpbnB1dE9iaiA9IHsgbnVtYmVyOiBpbnB1dFBhcmFtcyB9O1xuICAgIH0gZWxzZSB7XG4gICAgICBpbnB1dE9iaiA9IGlucHV0UGFyYW1zO1xuICAgIH1cbiAgICB2YXIgbkVuZHBvaW50ID0gY2xvbmUoZW5kcG9pbnQpO1xuICAgIG5FbmRwb2ludC5wYXRoICs9IFwiP1wiICsgcXVlcnlzdHJpbmcuc3RyaW5naWZ5KGlucHV0T2JqKTtcbiAgICBzZW5kUmVxdWVzdChuRW5kcG9pbnQsIGNhbGxiYWNrKTtcbiAgfVxufVxuZnVuY3Rpb24gdmFsaWRhdGVOdW1iZXIoaW5wdXRQYXJhbXMsIGNhbGxiYWNrKSB7XG4gIGlmICh0eXBlb2YgaW5wdXRQYXJhbXMgPT09IFwib2JqZWN0XCIgJiYgIWlucHV0UGFyYW1zLm51bWJlcikge1xuICAgIHNlbmRFcnJvcihjYWxsYmFjaywgbmV3IEVycm9yKEVSUk9SX01FU1NBR0VTLm51bWJlckluc2lnaHRWYWxpZGF0aW9uKSk7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9IGVsc2UgaWYgKFxuICAgIHR5cGVvZiBpbnB1dFBhcmFtcyA9PT0gXCJvYmplY3RcIiAmJlxuICAgICFudW1iZXJQYXR0ZXJuLnRlc3QoaW5wdXRQYXJhbXMubnVtYmVyKVxuICApIHtcbiAgICBzZW5kRXJyb3IoY2FsbGJhY2ssIG5ldyBFcnJvcihFUlJPUl9NRVNTQUdFUy5udW1iZXJJbnNpZ2h0UGF0dGVybkZhaWx1cmUpKTtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH0gZWxzZSBpZiAoXG4gICAgdHlwZW9mIGlucHV0UGFyYW1zICE9PSBcIm9iamVjdFwiICYmXG4gICAgKCFpbnB1dFBhcmFtcyB8fCAhbnVtYmVyUGF0dGVybi50ZXN0KGlucHV0UGFyYW1zKSlcbiAgKSB7XG4gICAgc2VuZEVycm9yKGNhbGxiYWNrLCBuZXcgRXJyb3IoRVJST1JfTUVTU0FHRVMubnVtYmVySW5zaWdodFBhdHRlcm5GYWlsdXJlKSk7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIHJldHVybiB0cnVlO1xufVxuXG5mdW5jdGlvbiBzZW5kVm9pY2VNZXNzYWdlKHZvaWNlRW5kcG9pbnQsIGRhdGEsIGNhbGxiYWNrKSB7XG4gIGlmICghZGF0YS50bykge1xuICAgIHNlbmRFcnJvcihjYWxsYmFjaywgbmV3IEVycm9yKEVSUk9SX01FU1NBR0VTLnRvKSk7XG4gIH0gZWxzZSB7XG4gICAgdmFyIGVuZHBvaW50ID0gY2xvbmUodm9pY2VFbmRwb2ludCk7XG4gICAgZW5kcG9pbnQucGF0aCArPSBcIj9cIiArIHF1ZXJ5c3RyaW5nLnN0cmluZ2lmeShkYXRhKTtcbiAgICBfb3B0aW9ucy5sb2dnZXIuaW5mbyhcbiAgICAgIFwic2VuZGluZyBUVFMgbWVzc2FnZSB0byBcIiArIGRhdGEudG8gKyBcIiB3aXRoIG1lc3NhZ2UgXCIgKyBkYXRhLnRleHRcbiAgICApO1xuICAgIHNlbmRSZXF1ZXN0KGVuZHBvaW50LCBcIlBPU1RcIiwgZnVuY3Rpb24gKGVyciwgYXBpUmVzcG9uc2UpIHtcbiAgICAgIGlmICghZXJyICYmIGFwaVJlc3BvbnNlLnN0YXR1cyAmJiBhcGlSZXNwb25zZS5zdGF0dXMgPiAwKSB7XG4gICAgICAgIHNlbmRFcnJvcihjYWxsYmFjaywgbmV3IEVycm9yKGFwaVJlc3BvbnNlW1wiZXJyb3ItdGV4dFwiXSksIGFwaVJlc3BvbnNlKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGlmIChjYWxsYmFjaykgY2FsbGJhY2soZXJyLCBhcGlSZXNwb25zZSk7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cbn1cblxuZXhwb3J0cy5zZW5kVFRTTWVzc2FnZSA9IGZ1bmN0aW9uIChyZWNpcGllbnQsIG1lc3NhZ2UsIG9wdHMsIGNhbGxiYWNrKSB7XG4gIGlmICghbWVzc2FnZSkge1xuICAgIHNlbmRFcnJvcihjYWxsYmFjaywgbmV3IEVycm9yKEVSUk9SX01FU1NBR0VTLm1zZykpO1xuICB9IGVsc2Uge1xuICAgIGlmICghb3B0cykge1xuICAgICAgb3B0cyA9IHt9O1xuICAgIH1cbiAgICBvcHRzW1widG9cIl0gPSByZWNpcGllbnQ7XG4gICAgb3B0c1tcInRleHRcIl0gPSBtZXNzYWdlO1xuICAgIHNlbmRWb2ljZU1lc3NhZ2UodHRzRW5kcG9pbnQsIG9wdHMsIGNhbGxiYWNrKTtcbiAgfVxufTtcblxuZXhwb3J0cy5zZW5kVFRTUHJvbXB0V2l0aENhcHR1cmUgPSBmdW5jdGlvbiAoXG4gIHJlY2lwaWVudCxcbiAgbWVzc2FnZSxcbiAgbWF4RGlnaXRzLFxuICBieWVUZXh0LFxuICBvcHRzLFxuICBjYWxsYmFja1xuKSB7XG4gIGlmICghbWVzc2FnZSkge1xuICAgIHNlbmRFcnJvcihjYWxsYmFjaywgbmV3IEVycm9yKEVSUk9SX01FU1NBR0VTLm1zZykpO1xuICB9IGVsc2UgaWYgKCFtYXhEaWdpdHMgfHwgaXNOYU4obWF4RGlnaXRzKSB8fCBtYXhEaWdpdHMubGVuZ3RoID4gMTYpIHtcbiAgICBzZW5kRXJyb3IoY2FsbGJhY2ssIG5ldyBFcnJvcihFUlJPUl9NRVNTQUdFUy5tYXhEaWdpdHMpKTtcbiAgfSBlbHNlIGlmICghYnllVGV4dCkge1xuICAgIHNlbmRFcnJvcihjYWxsYmFjaywgbmV3IEVycm9yKEVSUk9SX01FU1NBR0VTLmJ5ZVRleHQpKTtcbiAgfSBlbHNlIHtcbiAgICBpZiAoIW9wdHMpIHtcbiAgICAgIG9wdHMgPSB7fTtcbiAgICB9XG4gICAgb3B0c1tcInRvXCJdID0gcmVjaXBpZW50O1xuICAgIG9wdHNbXCJ0ZXh0XCJdID0gbWVzc2FnZTtcbiAgICBvcHRzW1wibWF4X2RpZ2l0c1wiXSA9IG1heERpZ2l0cztcbiAgICBvcHRzW1wiYnllX3RleHRcIl0gPSBieWVUZXh0O1xuICAgIHNlbmRWb2ljZU1lc3NhZ2UodHRzUHJvbXB0RW5kcG9pbnQsIG9wdHMsIGNhbGxiYWNrKTtcbiAgfVxufTtcblxuZXhwb3J0cy5zZW5kVFRTUHJvbXB0V2l0aENvbmZpcm0gPSBmdW5jdGlvbiAoXG4gIHJlY2lwaWVudCxcbiAgbWVzc2FnZSxcbiAgbWF4RGlnaXRzLFxuICBwaW5Db2RlLFxuICBieWVUZXh0LFxuICBmYWlsZWRUZXh0LFxuICBvcHRzLFxuICBjYWxsYmFja1xuKSB7XG4gIGlmICghbWVzc2FnZSkge1xuICAgIHNlbmRFcnJvcihjYWxsYmFjaywgbmV3IEVycm9yKEVSUk9SX01FU1NBR0VTLm1zZykpO1xuICB9IGVsc2UgaWYgKCFtYXhEaWdpdHMgfHwgaXNOYU4obWF4RGlnaXRzKSB8fCBtYXhEaWdpdHMubGVuZ3RoID4gMTYpIHtcbiAgICBzZW5kRXJyb3IoY2FsbGJhY2ssIG5ldyBFcnJvcihFUlJPUl9NRVNTQUdFUy5tYXhEaWdpdHMpKTtcbiAgfSBlbHNlIGlmICghcGluQ29kZSB8fCBwaW5Db2RlLmxlbmd0aCAhPT0gbWF4RGlnaXRzKSB7XG4gICAgc2VuZEVycm9yKGNhbGxiYWNrLCBuZXcgRXJyb3IoRVJST1JfTUVTU0FHRVMucGluQ29kZSkpO1xuICB9IGVsc2UgaWYgKCFieWVUZXh0KSB7XG4gICAgc2VuZEVycm9yKGNhbGxiYWNrLCBuZXcgRXJyb3IoRVJST1JfTUVTU0FHRVMuYnllVGV4dCkpO1xuICB9IGVsc2UgaWYgKCFmYWlsZWRUZXh0KSB7XG4gICAgc2VuZEVycm9yKGNhbGxiYWNrLCBuZXcgRXJyb3IoRVJST1JfTUVTU0FHRVMuZmFpbGVkVGV4dCkpO1xuICB9IGVsc2Uge1xuICAgIGlmICghb3B0cykge1xuICAgICAgb3B0cyA9IHt9O1xuICAgIH1cbiAgICBvcHRzW1widG9cIl0gPSByZWNpcGllbnQ7XG4gICAgb3B0c1tcInRleHRcIl0gPSBtZXNzYWdlO1xuICAgIG9wdHNbXCJtYXhfZGlnaXRzXCJdID0gbWF4RGlnaXRzO1xuICAgIG9wdHNbXCJwaW5fY29kZVwiXSA9IHBpbkNvZGU7XG4gICAgb3B0c1tcImJ5ZV90ZXh0XCJdID0gYnllVGV4dDtcbiAgICBvcHRzW1wiZmFpbGVkX3RleHRcIl0gPSBmYWlsZWRUZXh0O1xuICAgIHNlbmRWb2ljZU1lc3NhZ2UodHRzUHJvbXB0RW5kcG9pbnQsIG9wdHMsIGNhbGxiYWNrKTtcbiAgfVxufTtcblxuZXhwb3J0cy5jYWxsID0gZnVuY3Rpb24gKHJlY2lwaWVudCwgYW5zd2VyVXJsLCBvcHRzLCBjYWxsYmFjaykge1xuICBpZiAoIWFuc3dlclVybCkge1xuICAgIHNlbmRFcnJvcihjYWxsYmFjaywgbmV3IEVycm9yKEVSUk9SX01FU1NBR0VTLmFuc3dlclVybCkpO1xuICB9IGVsc2Uge1xuICAgIGlmICghb3B0cykge1xuICAgICAgb3B0cyA9IHt9O1xuICAgIH1cbiAgICBvcHRzW1widG9cIl0gPSByZWNpcGllbnQ7XG4gICAgb3B0c1tcImFuc3dlcl91cmxcIl0gPSBhbnN3ZXJVcmw7XG4gICAgc2VuZFZvaWNlTWVzc2FnZShjYWxsRW5kcG9pbnQsIG9wdHMsIGNhbGxiYWNrKTtcbiAgfVxufTtcblxuZnVuY3Rpb24gc2VuZEVycm9yKGNhbGxiYWNrLCBlcnIsIHJldHVybkRhdGEpIHtcbiAgLy8gVGhyb3cgdGhlIGVycm9yIGluIGNhc2UgaWYgdGhlcmUgaXMgbm8gY2FsbGJhY2sgcGFzc2VkXG4gIGlmIChjYWxsYmFjaykge1xuICAgIGNhbGxiYWNrKGVyciwgcmV0dXJuRGF0YSk7XG4gIH0gZWxzZSB7XG4gICAgdGhyb3cgZXJyO1xuICB9XG59XG4iXX0=